<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Ajax로 파일로드 밑 setTimeOut 사용방법</title>
</head>
<body>
<style>
.box{
width: 100px;
height: 30px;
color: white;
background-color: black;
text-align: center;
line-height: 30px;
font-size: 12px;
}
</style>
<input type="button" value="실행" onclick="gopage()">
<br><br>
<div class="box" id="box"></div>
<br><br>
<div id="ag">



</div>
<div id="ag2">



</div>
</body>
<script>


	var time = 5;	//카운팅 숫자
	function aaa() {
		document.getElementById("box").innerText = "광고중" + time + "초";
		time--;
		if(time >= 0){
			setTimeout(aaa,1000); //해당 메소드를 재호출
		}else{	//
			document.getElementById("box").innerText = "SKIP";
		}
	}
	setTimeout(aaa,1000); //페이지가 실행 된 후 1초 후에 aaa함수를 호출




function gopage() {4
	//로딩 삥글삥글 돌때 이런 코드 사용
	var url="http://naver.com";
	//setTimeout 함수 추가적인 핸들링 이벤트가 발생하는 코드가 있을 경우
	setTimeout(function() {
		location.href = url;
	},5000);
}
//setTimeout(gopae,3000); 	//1000 = 1초 setTimeout은 해당 범위의 시간이 지난 후 작동되는 함수






//ajax I/O형태로 파일을 로드하여 해당 내용을 HTML에 출력하는 방식
window.onload = function(){
	var http = new XMLHttpRequest;
	
	//파일 로드해야해서 GET ! 
	//txt파일 저장할때 파일 인코딩이 utf-8로 되어있지않으면 다깨져서 보임 주의 ! 
	http.open("GET","./realty/agree1.txt",false); //GET 통신을 이용하여 해당 파일을 로드
	http.send();
	document.getElementById("ag").innerHTML = http.response; //HTML에 내용을 출력
	
	var http2 = new XMLHttpRequest;
	http2.open("GET","./realty/agree2.txt",false);
	http2.send();
	document.getElementById("ag2").innerHTML = http2.response;
	
}
</script>
</html>